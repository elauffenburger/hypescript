
		#include <stdlib.h>
		#include <stdio.h>
		#include <string>
		#include <vector>
		#include <algorithm>
		#include <memory>
	
		#include "runtime.hpp"
	int main() { TsFunction* foo = new TsFunction("foo", TsCoreHelpers::toVector<TsFunctionParam>({TsFunctionParam("a", 0), TsFunctionParam("b", 0)}), [=](std::vector<TsFunctionArg> args) -> TsObject* {auto a = TsFunctionArg::findArg(args, "a").value;auto b = TsFunctionArg::findArg(args, "b").value;auto ay = new TsNum(5);auto bee = new TsString("bar");return ay;});TsFunction* blah = new TsFunction("blah", TsCoreHelpers::toVector<TsFunctionParam>({}), [=](std::vector<TsFunctionArg> args) -> TsObject* {auto foo = new TsString("asdf");auto bar = foo;bar = new TsString("bar");return foo;});TsFunction* blah2 = new TsFunction("blah2", TsCoreHelpers::toVector<TsFunctionParam>({}), [=](std::vector<TsFunctionArg> args) -> TsObject* {return NULL;});TsFunction* returnsFn = new TsFunction("returnsFn", TsCoreHelpers::toVector<TsFunctionParam>({}), [=](std::vector<TsFunctionArg> args) -> TsObject* {return new TsFunction("ident0", TsCoreHelpers::toVector<TsFunctionParam>({}), [=](std::vector<TsFunctionArg> args) -> TsObject* {console->getFieldValue("log")->invoke(TsCoreHelpers::toVector<TsFunctionArg>({TsFunctionArg("fmt", new TsString("in nested!"))}));return NULL;});});TsFunction* run = new TsFunction("run", TsCoreHelpers::toVector<TsFunctionParam>({}), [=](std::vector<TsFunctionArg> args) -> TsObject* {TsFunction* baz = new TsFunction("baz", TsCoreHelpers::toVector<TsFunctionParam>({}), [=](std::vector<TsFunctionArg> args) -> TsObject* {console->getFieldValue("log")->invoke(TsCoreHelpers::toVector<TsFunctionArg>({TsFunctionArg("fmt", new TsString("in baz!"))}));return NULL;});auto obj = new TsObject(1, TsCoreHelpers::toVector<TsObjectField*>({new TsObjectField(TsObjectFieldDescriptor(TsString("foo"), 0), new TsString("bar")), new TsObjectField(TsObjectFieldDescriptor(TsString("baz"), 0), new TsNum(5)), new TsObjectField(TsObjectFieldDescriptor(TsString("qux"), 0), new TsObject(1, TsCoreHelpers::toVector<TsObjectField*>({new TsObjectField(TsObjectFieldDescriptor(TsString("a"), 0), new TsString("a")), new TsObjectField(TsObjectFieldDescriptor(TsString("foo"), 0), new TsFunction("ident0", TsCoreHelpers::toVector<TsFunctionParam>({}), [=](std::vector<TsFunctionArg> args) -> TsObject* {console->getFieldValue("log")->invoke(TsCoreHelpers::toVector<TsFunctionArg>({TsFunctionArg("fmt", new TsString("in foo!"))}));return NULL;}))})))}));obj->getFieldValue("qux")->setFieldValue("a", new TsString("hello, world!"));console->getFieldValue("log")->invoke(TsCoreHelpers::toVector<TsFunctionArg>({TsFunctionArg("fmt", obj->getFieldValue("qux")->getFieldValue("a"))}));obj->getFieldValue("qux")->getFieldValue("foo")->invoke(TsCoreHelpers::toVector<TsFunctionArg>({}));baz->invoke(TsCoreHelpers::toVector<TsFunctionArg>({}));returnsFn->invoke(TsCoreHelpers::toVector<TsFunctionArg>({}))->invoke(TsCoreHelpers::toVector<TsFunctionArg>({}));return NULL;});run->invoke(TsCoreHelpers::toVector<TsFunctionArg>({}));return 0; }
